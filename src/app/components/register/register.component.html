<ng-container *ngIf="Registrated; then needsEmailConfirm; else needsRegister">
</ng-container>
<ng-template #needsRegister>
  <div class="register-container">
    <span class="mat-title">Register new user</span>
    <form [formGroup]="RegisterForm" #RegForm="ngForm">
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>First name</mat-label>
          <input matInput placeholder="Enter first name" formControlName="firstName">
          <mat-error *ngIf="RegisterForm.controls['firstName'].errors && RegisterForm.controls['firstName'].errors.pattern">Enter valid name</mat-error>
          <mat-error *ngIf="RegisterForm.controls['firstName'].errors && RegisterForm.controls['firstName'].errors.required">First name is required</mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Last name</mat-label>
          <input matInput placeholder="Enter last name" formControlName="lastName">
          <mat-error *ngIf="RegisterForm.controls['lastName'].errors && RegisterForm.controls['lastName'].errors.pattern">Enter a valid last name</mat-error>
          <mat-error *ngIf="RegisterForm.controls['lastName'].errors && RegisterForm.controls['lastName'].errors.required">Last name is required</mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput placeholder="Enter email" formControlName="email">
          <mat-error *ngIf="RegisterForm.controls['email'].errors && RegisterForm.controls['email'].errors.required">Email is required</mat-error>
          <mat-error *ngIf="RegisterForm.controls['email'].errors && RegisterForm.controls['email'].errors.email">Enter a valid email</mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Birth date</mat-label>
          <input matInput [min]="EarliestDate" [max]="LatestDate" [matDatepicker]="datePicker" placeholder="Enter date" formControlName="birthDate">
          <mat-datepicker-toggle matSuffix [for]="datePicker"></mat-datepicker-toggle>
          <mat-datepicker #datePicker></mat-datepicker>
          <mat-error *ngIf="RegisterForm.controls['birthDate'].errors">Birth date is required</mat-error>
        </mat-form-field>
      </div>
      <div class="radio-form-group">
        <mat-radio-group formControlName="gender" [required]="true">
          <mat-label class="mat-body">Gender: </mat-label>
          <mat-radio-button value="Male">
            Male
          </mat-radio-button>
          <mat-radio-button value="Female">
            Female
          </mat-radio-button>
          <mat-error *ngIf="RegisterForm.controls['gender'].errors && (RegisterForm.controls['gender'].touched || RegForm.submitted)">Gender is required</mat-error>
        </mat-radio-group>
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline" >
          <mat-label>Password</mat-label>
          <input matInput placeholder="Enter password" formControlName="password" [type]="HidePassword ? 'password' : 'text'">
           <mat-error *ngIf="RegisterForm.controls['password'].errors && RegisterForm.controls['password'].errors['required']">Password is required</mat-error>
           <mat-error *ngIf="RegisterForm.controls['password'].errors && RegisterForm.controls['password'].errors['pattern']">Minimum 8 characters, one digit and one special character is required</mat-error>
           <mat-icon matSuffix (click)="HidePassword = !HidePassword">{{HidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Repeat password</mat-label>
          <input matInput placeholder="Repeat password" formControlName="passwordRepeat" [errorStateMatcher]="ErrorMatcher" [type]="HidePassword ? 'password' : 'text'">
          <mat-error *ngIf="RegisterForm.hasError('notSame')">
            Passwords do not match
          </mat-error>
        </mat-form-field>
      </div>
      <button mat-raised-button color="primary" class="register-submit" (click)="SubmitRegister()" [disabled]="RegisterForm.invalid">Register</button>
    </form> 
  </div>
</ng-template>

<ng-template #needsEmailConfirm>
  <div class="needs-email-confirm-container">
    <div class="icons-container">
        <i class="material-icons email-icon">email</i>
        <img class="check" src="/assets/check.png" alt="">
    </div>
    <div class="content">
        <span class="mat-title">Great! You have successfully signed up for Healthkeeper</span>
        <span class="mat-subheading-1">We have sent you a link to confirm your email address. Please check your inbox.</span>  
    </div>
  </div>
</ng-template>
